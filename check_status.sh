#!/bin/bash

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Telegram HR Bot..."
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞
echo "üìä –°—Ç–∞—Ç—É—Å systemd —Å–µ—Ä–≤–∏—Å–∞:"
sudo systemctl status telegram-hr-bot.service --no-pager -l

echo ""
echo "üê≥ –°—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:"
docker-compose -f /opt/telegram-hr-bot/docker-compose.production.yml ps

echo ""
echo "üè• Health check –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:"
if curl -f -s http://localhost:5000/api/health > /dev/null; then
    echo "‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ"
else
    echo "‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"
fi

echo ""
echo "üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å—Ç—Ä–æ–∫ ):"
sudo journalctl -u telegram-hr-bot.service -n 10 --no-pager
